```sql
mysql> DROP DATABASE IF EXISTS HW3;
Query OK, 2 rows affected (0,01 sec)

mysql> CREATE DATABASE IF NOT EXISTS `HW3`;
(aQuery OK, 1 row affected (0,00 sec)

mysql> USE `HW3`;
Database changed
mysql> 
mysql> DROP TABLE IF EXISTS `staff`;
 соQuery OK, 0 rows affected, 1 warning (0,00 sec)

mysql> CREATE TABLE IF NOT EXISTS `staff`
    -> (
    -> `id` INT PRIMARY KEY AUTO_INCREMENT,
    -> `firstname` VARCHAR(45),
    -> `lastname` VARCHAR(45),
    -> `post` VARCHAR(45),
    -> `seniority` INT,
    -> `salary` INT,
G    -> `age` INT);
Query OK, 0 rows affected (0,01 sec)

mysql> 
amysql> INSERT INTO `staff` (`firstname`, `lastname`, `post`,`seniority`,`salary`, `age`)
    -> VALUES
со    -> ('Вася', 'Васькин', 'Начальник', 40, 100000, 60), 
    -> ('Петр', 'Власов', 'Начальник', 8, 70000, 30),
д    -> ('Катя', 'Катина', 'Инженер', 2, 70000, 25),
    -> ('Саша', 'Сасин', 'Инженер', 12, 50000, 35),
    -> ('Иван', 'Петров', 'Рабочий', 40, 30000, 59),
    -> ('Петр', 'Петров', 'Рабочий', 20, 55000, 60),
, �    -> ('Сидр', 'Сидоров', 'Рабочий', 10, 20000, 35),
    -> ('Антон', 'Антонов', 'Рабочий', 8, 19000, 28),
    -> ('Юрий', 'Юрков', 'Рабочий', 5, 15000, 25),
    -> ('Максим', 'Петров', 'Рабочий', 2, 11000, 19),
    -> ('Юрий', 'Петров', 'Рабочий', 3, 12000, 24),
    -> ('Людмила', 'Маркина', 'Уборщик', 10, 10000, 49);
Query OK, 12 rows affected (0,00 sec)
Records: 12  Duplicates: 0  Warnings: 0

mysql> 
mysql> DROP TABLE IF EXISTS `activity_staff`;
Query OK, 0 rows affected, 1 warning (0,00 sec)

mysql> CREATE TABLE IF NOT EXISTS `activity_staff`
    -> (`id` INT PRIMARY KEY AUTO_INCREMENT,
    -> `staff_id` INT,
    -> FOREIGN KEY (staff_id) REFERENCES staff(id),
    -> `date_activity` DATE,
    -> `count_pages` INT
    -> );
Query OK, 0 rows affected (0,02 sec)

mysql> 
mysql> INSERT activity_staff (`staff_id`, `date_activity`, `count_pages`)
    -> VALUES
    -> (1,'2022-01-01',250),
    -> (2,'2022-01-01',220),
    -> (3,'2022-01-01',170),
    -> (1,'2022-01-02',100),
    -> (2,'2022-01-01',220),
    -> (3,'2022-01-01',300),
    -> (7,'2022-01-01',350),
    -> (1,'2022-01-03',168),
    -> (2,'2022-01-03',62),
    -> (3,'2022-01-03',84);
Query OK, 10 rows affected (0,00 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> 
mysql> 
mysql> /*
   /*> Условие по таблице staff:
   /*> 1 Отсортируйте данные по полю заработная плата (salary) в порядке: убывания; возрастания
   /*> 2 Выведите 5 максимальных заработных плат (salary)
   /*> 3 Посчитайте суммарную зарплату (salary) по каждой специальности (роst)
   /*> 4 Найдите кол-во сотрудников с специальностью (post) «Рабочий» в возрасте от 24 до 49 лет включительно.
   /*> 5 Найдите количество специальностей
   /*> 6 Выведите специальности, у которых средний возраст сотрудников меньше 30 лет включительно
   /*> 
   /*> 7.1 Выведите id сотрудников, которые напечатали более 500 страниц за всех дни
   /*> 7.2 Выведите дни, когда работало более 3 сотрудников Также укажите кол-во сотрудников, которые работали в выбранные дни.
   /*> 7.3 Выведите среднюю заработную плату по должностям, которая составляет более 30000
   /*> */
mysql> -- 1 Отсортируйте данные по полю заработная плата (salary) в порядке: убывания; возрастания
mysql> SELECT * 
    -> FROM staff
    -> ORDER BY salary;
+----+----------------+----------------+--------------------+-----------+--------+------+
| id | firstname      | lastname       | post               | seniority | salary | age  |
+----+----------------+----------------+--------------------+-----------+--------+------+
| 12 | Людмила        | Маркина        | Уборщик            |        10 |  10000 |   49 |
| 10 | Максим         | Петров         | Рабочий            |         2 |  11000 |   19 |
| 11 | Юрий           | Петров         | Рабочий            |         3 |  12000 |   24 |
|  9 | Юрий           | Юрков          | Рабочий            |         5 |  15000 |   25 |
|  8 | Антон          | Антонов        | Рабочий            |         8 |  19000 |   28 |
|  7 | Сидр           | Сидоров        | Рабочий            |        10 |  20000 |   35 |
|  5 | Иван           | Петров         | Рабочий            |        40 |  30000 |   59 |
|  4 | Саша           | Сасин          | Инженер            |        12 |  50000 |   35 |
|  6 | Петр           | Петров         | Рабочий            |        20 |  55000 |   60 |
|  2 | Петр           | Власов         | Начальник          |         8 |  70000 |   30 |
|  3 | Катя           | Катина         | Инженер            |         2 |  70000 |   25 |
|  1 | Вася           | Васькин        | Начальник          |        40 | 100000 |   60 |
+----+----------------+----------------+--------------------+-----------+--------+------+
12 rows in set (0,00 sec)

mysql> 
mysql> SELECT * 
    -> FROM staff
    -> ORDER BY salary DESC;
+----+----------------+----------------+--------------------+-----------+--------+------+
| id | firstname      | lastname       | post               | seniority | salary | age  |
+----+----------------+----------------+--------------------+-----------+--------+------+
|  1 | Вася           | Васькин        | Начальник          |        40 | 100000 |   60 |
|  2 | Петр           | Власов         | Начальник          |         8 |  70000 |   30 |
|  3 | Катя           | Катина         | Инженер            |         2 |  70000 |   25 |
|  6 | Петр           | Петров         | Рабочий            |        20 |  55000 |   60 |
|  4 | Саша           | Сасин          | Инженер            |        12 |  50000 |   35 |
|  5 | Иван           | Петров         | Рабочий            |        40 |  30000 |   59 |
|  7 | Сидр           | Сидоров        | Рабочий            |        10 |  20000 |   35 |
|  8 | Антон          | Антонов        | Рабочий            |         8 |  19000 |   28 |
|  9 | Юрий           | Юрков          | Рабочий            |         5 |  15000 |   25 |
| 11 | Юрий           | Петров         | Рабочий            |         3 |  12000 |   24 |
| 10 | Максим         | Петров         | Рабочий            |         2 |  11000 |   19 |
| 12 | Людмила        | Маркина        | Уборщик            |        10 |  10000 |   49 |
+----+----------------+----------------+--------------------+-----------+--------+------+
12 rows in set (0,00 sec)

mysql> -- 2 Выведите 5 максимальных заработных плат (salary)
mysql> SELECT salary 
    -> FROM staff
    -> ORDER BY salary DESC
    -> LIMIT 5;
+--------+
| salary |
+--------+
| 100000 |
|  70000 |
|  70000 |
|  55000 |
|  50000 |
+--------+
5 rows in set (0,00 sec)

mysql> -- 3 Посчитайте суммарную зарплату (salary) по каждой специальности (роst)
mysql> SELECT post, SUM(salary)
    -> FROM staff
    -> GROUP BY post;
+--------------------+-------------+
| post               | SUM(salary) |
+--------------------+-------------+
| Начальник          |      170000 |
| Инженер            |      120000 |
| Рабочий            |      162000 |
| Уборщик            |       10000 |
+--------------------+-------------+
4 rows in set (0,00 sec)

mysql> -- 4 Найдите кол-во сотрудников с специальностью (post) «Рабочий» в возрасте от 24 до 49 лет включительно.
mysql> SELECT COUNT(post)
    -> FROM staff
    -> WHERE post = 'Рабочий' AND age BETWEEN 24 AND 49;
+-------------+
| COUNT(post) |
+-------------+
|           4 |
+-------------+
1 row in set (0,00 sec)

mysql> -- 5 Найдите количество специальностей
mysql> SELECT COUNT(DISTINCT post) FROM staff;
+----------------------+
| COUNT(DISTINCT post) |
+----------------------+
|                    4 |
+----------------------+
1 row in set (0,00 sec)

mysql> -- 6 Выведите специальности, у которых средний возраст сотрудников меньше 30 лет включительно
mysql> SELECT post FROM staff
    -> GROUP BY post
    -> HAVING AVG(age) <= 30;
+----------------+
| post           |
+----------------+
| Инженер        |
+----------------+
1 row in set (0,00 sec)

mysql> -- 7.1 Выведите id сотрудников, которые напечатали более 500 страниц за все дни
mysql> SELECT DISTINCT staff_id
    -> FROM activity_staff
    -> GROUP BY staff_id
    -> HAVING SUM(count_pages) > 500;
+----------+
| staff_id |
+----------+
|        1 |
|        2 |
|        3 |
+----------+
3 rows in set (0,00 sec)

mysql> -- 7.2 Выведите дни, когда работало более 3 сотрудников Также укажите кол-во сотрудников, которые работали в выбранные дни.
mysql> SELECT date_activity, COUNT(DISTINCT staff_id) AS num_employees
    -> FROM activity_staff
    -> GROUP BY date_activity
    -> HAVING COUNT(DISTINCT staff_id) > 3;
+---------------+---------------+
| date_activity | num_employees |
+---------------+---------------+
| 2022-01-01    |             4 |
+---------------+---------------+
1 row in set (0,00 sec)

mysql> -- 7.3 Выведите среднюю заработную плату по должностям, которая составляет более 30000
mysql> SELECT post, AVG(salary) AS average_salary
    -> FROM staff
    -> GROUP BY post
    -> HAVING AVG(salary) > 30000;
+--------------------+----------------+
| post               | average_salary |
+--------------------+----------------+
| Начальник          |     85000.0000 |
| Инженер            |     60000.0000 |
+--------------------+----------------+
2 rows in set (0,00 sec)
```